Переделать цикл проверки и удаления:

Проверить все строки

Найти три в ряд

Проверить ячейки ниже/правее на случай если там больше

Установить количество одинаковых ячеек подряд и добавить очки в счёт в соответствии с этим

Отметить место, куда нужно добавить бомбы (??) в соответствии с количеством одинаковых ячеек подряд

Пометить все одинаковые ячейки как ячейки для удаления

Повторить то же самое со столбцами

Когда проверка столбцов и строк пройдена, одновременно удалить все клетки, помеченные для удаления,

Добавить бомбы в нужные места

Запустить падение ячеек

Повторная проверка происходит только после того, как падение завершено

